<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Labyrinth Hotel | Terminal</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Nanum+Myeongjo:wght@700&family=Cinzel:wght@400;700&family=Cormorant+Garamond:ital,wght@1,600&display=swap" rel="stylesheet">
<script>
    // 1. 마우스 우클릭 차단
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault();
    }, false);

    // 2. 단축키 차단 (F12, 소스보기, 개발자 도구)
    document.addEventListener('keydown', function(e) {
        // F12 막기
        if (e.key === "F12") {
            e.preventDefault();
        }
        // Ctrl+U (소스 보기) 막기
        if (e.ctrlKey && e.key === 'u') {
            e.preventDefault();
        }
        // Ctrl+Shift+I / Ctrl+Shift+J (개발자 도구) 막기
        if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i' || e.key === 'J' || e.key === 'j')) {
            e.preventDefault();
        }
        // Ctrl+S (저장) 막기
        if (e.ctrlKey && e.key === 's') {
            e.preventDefault();
        }
    }, false);
</script>
    <style>
        :root {
            --bg-deep: #050505;
            --gold-main: #d4af37;
            --gold-dim: rgba(212, 175, 55, 0.3);
            --metal-dark: #1a1510;
            --accent-red: #8B0000;
        }

        /* [Shake Animation] */
        @keyframes phone-shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        .apply-shake { animation: phone-shake 0.5s; }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }
        body { 
            background-color: var(--bg-deep); 
            display: flex; justify-content: center; align-items: center; 
            min-height: 100vh; font-family: 'Pretendard', sans-serif;
            overflow: hidden;
            background-image: radial-gradient(circle at 2px 2px, rgba(197, 160, 89, 0.03) 1px, transparent 0);
            background-size: 32px 32px;
        }

        .cursor { position: fixed; width: 8px; height: 8px; background: var(--accent-red); border-radius: 50%; pointer-events: none; z-index: 9999; }
        .cursor-follower { position: fixed; width: 40px; height: 40px; border: 1px solid rgba(139, 0, 0, 0.5); border-radius: 50%; pointer-events: none; transition: transform 0.1s; z-index: 9998; }

        .phone-frame {
            width: 380px; padding: 50px 30px;
            background: linear-gradient(145deg, #151515, #000);
            border: 1px solid #2a1f10; border-radius: 4px;
            box-shadow: 0 0 100px rgba(0,0,0,1), inset 0 0 20px rgba(212, 175, 55, 0.02);
            text-align: center; z-index: 100;
            position: relative;
        }

        .hotel-brand { font-family: 'Nanum Myeongjo', serif; color: var(--gold-main); font-size: 1.2rem; letter-spacing: 6px; margin-bottom: 5px; opacity: 0.8; }
        .sub-brand { font-family: 'Cormorant Garamond', serif; font-size: 0.7rem; color: var(--gold-main); opacity: 0.3; letter-spacing: 5px; text-transform: uppercase; margin-bottom: 35px; }

        .digital-display { display: flex; justify-content: center; gap: 8px; background: #000; padding: 20px; border-radius: 2px; border: 1px solid #151515; margin-bottom: 45px; box-shadow: inset 0 0 15px #000; }
        .segment-box { width: 45px; height: 60px; background: #080808; border: 1px solid #111; display: flex; justify-content: center; align-items: center; font-family: 'Orbitron', sans-serif; font-size: 2.2rem; color: #200000; transition: all 0.2s; }
        .segment-box.active { color: #FF0000; text-shadow: 0 0 12px #FF0000; }

        .dial-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; padding: 0 10px; }
        .dial-key { height: 60px; background: transparent; border: 1px solid #222; color: #444; font-family: 'Orbitron', sans-serif; font-size: 1.1rem; display: flex; justify-content: center; align-items: center; transition: 0.3s; outline: none; }
        .dial-key:hover { border-color: var(--gold-main); color: var(--gold-main); }
        .dial-key:active { background: #4a0000; color: #fff; border-color: var(--accent-red); }
        .dial-key.gold { color: var(--gold-main); border-color: #332211; font-weight: bold; }

        #status-info { margin-top: 35px; height: 20px; font-size: 0.75rem; letter-spacing: 2px; color: #333; text-transform: uppercase; font-family: 'Orbitron', sans-serif; }
        .success-text { color: var(--gold-main) !important; font-weight: bold; text-shadow: 0 0 10px var(--gold-dim); }
        .error-shake { color: var(--accent-red) !important; animation: error-shake 0.4s; }

        @keyframes error-shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-6px); } 75% { transform: translateX(6px); } }
        .vignette { position: fixed; top: 0; left: 0; width: 100%; height: 100%; box-shadow: inset 0 0 300px #000; pointer-events: none; z-index: 50; }
    </style>
</head>
<body oncontextmenu="return false" onselectstart="return false" ondragstart="return false">

    <div class="cursor"></div>
    <div class="cursor-follower"></div>
    <div class="vignette"></div>

    <div class="phone-frame" id="terminalFrame">
        <div class="hotel-brand">RECEPTION</div>
        <div class="sub-brand">Boutique Hotel</div>

        <div class="digital-display">
            <div class="segment-box" id="s0">0</div>
            <div class="segment-box" id="s1">0</div>
            <div class="segment-box" id="s2">0</div>
            <div class="segment-box" id="s3">0</div>
            <div class="segment-box" id="s4">0</div>
        </div>

        <div class="dial-grid">
            <button class="dial-key" onclick="inputDigit('1')">1</button>
            <button class="dial-key" onclick="inputDigit('2')">2</button>
            <button class="dial-key" onclick="inputDigit('3')">3</button>
            <button class="dial-key" onclick="inputDigit('4')">4</button>
            <button class="dial-key" onclick="inputDigit('5')">5</button>
            <button class="dial-key" onclick="inputDigit('6')">6</button>
            <button class="dial-key" onclick="inputDigit('7')">7</button>
            <button class="dial-key" onclick="inputDigit('8')">8</button>
            <button class="dial-key" onclick="inputDigit('9')">9</button>
            <button class="dial-key" style="font-size: 0.7rem;" onclick="clearPhone()">CLEAR</button>
            <button class="dial-key" onclick="inputDigit('0')">0</button>
            <button class="dial-key gold" onclick="validate()">CALL</button>
        </div>

        <p id="status-info">dialing system active</p>
    </div>

    <script>
        const cr = document.querySelector('.cursor'), fl = document.querySelector('.cursor-follower');
        document.addEventListener('mousemove', e => {
            cr.style.left = e.clientX + 'px'; cr.style.top = e.clientY + 'px';
            setTimeout(() => { fl.style.left = e.clientX - 16 + 'px'; fl.style.top = e.clientY - 16 + 'px'; }, 50);
        });

        let buffer = "";
        const secret = atob("Mzc4MTg="); 

        function inputDigit(n) {
            if (buffer.length < 5) {
                const idx = buffer.length;
                buffer += n;
                const box = document.getElementById('s' + idx);
                box.innerText = n;
                box.classList.add('active');
            }
        }

        function clearPhone() {
            buffer = "";
            for(let i=0; i<5; i++) {
                const box = document.getElementById('s' + i);
                box.innerText = "0";
                box.classList.remove('active');
            }
            const st = document.getElementById('status-info');
            st.innerText = "dialing system active";
            st.classList.remove('success-text', 'error-shake');
        }

        function validate() {
            const st = document.getElementById('status-info');
            const frame = document.getElementById('terminalFrame');
            
            if (buffer === secret) {
                // 1. 흔들림 효과 시작
                frame.classList.add('apply-shake');
                st.innerText = "CONNECTING...";

                // 2. 0.5초 후 흔들림 멈추고 코드 노출
                setTimeout(() => {
                    frame.classList.remove('apply-shake');
                    st.innerText = "CONNECTION SUCCESS! ENTER 5-DIGIT";
                    st.classList.add('success-text');

                    // 3. 코드 노출 1초 뒤 페이지 이동
                    setTimeout(() => {
                        try {
                            if(window.parent.goNextPage) {
                                window.parent.goNextPage('managerman');
                            } else {
                                window.parent.location.href = "javascript:goNextPage('managerman');";
                            }
                        } catch (e) { console.error(e); }
                    }, 1000);
                }, 500);

            } else {
                st.innerText = "connection failed";
                st.classList.add('error-shake');
                setTimeout(clearPhone, 1200);
            }
        }

        document.onkeydown = function(e) {
            if(e.keyCode == 123 || (e.ctrlKey && (e.keyCode == 85 || (e.shiftKey && (e.keyCode == 73 || e.keyCode == 74))))) return false;
        };
    </script>
</body>
</html>
