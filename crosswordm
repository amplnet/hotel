<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Labyrinth Hotel - Final Cipher (Luxury)</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+KR:wght@400;700&family=Space+Mono&display=swap" rel="stylesheet">
    <script>
        document.addEventListener('contextmenu', e => e.preventDefault());
        document.addEventListener('keydown', e => {
            if (e.key === "F12" || (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J')) || (e.ctrlKey && e.key === 'u')) {
                e.preventDefault();
            }
        });
    </script>
    <style>
        :root {
            /* === LUXURY SILVER PALETTE === */
            /* 배경 및 기본 톤 */
            --bg-deep: #121212;         /* 가장 깊은 배경색 */
            --silver-shadow: #2a2a2a;   /* 어두운 금속 그림자 */
            --silver-mid: #666666;      /* 중간 금속톤 */
            --silver-highlight: #a0a0a0;/* 밝은 금속 하이라이트 */
            --chrome-bright: #e0e0e0;   /* 크롬 광택 */

            /* 셀(Cell) 디자인 */
            --cell-inactive: #1a1a1a;   /* 비활성 셀 (어둡고 들어간 느낌) */
            --cell-active-bg: linear-gradient(145deg, #4a4a4a, #333333); /* 활성 셀 (돌출된 금속 버튼 느낌) */
            --cell-revealed-bg: linear-gradient(145deg, #ffffff, #c0c0c0); /* 정답 셀 (밝게 빛나는 느낌) */
            
            /* 텍스트 색상 */
            --text-muted: #808080;      /* 인덱스 번호 등 */
            --text-bright: #d0d0d0;     /* 기본 밝은 텍스트 */
            --text-revealed: #000000;   /* 정답 텍스트 (검정) */
            
            /* 기타 */
            --highlight-pink: rgba(255, 100, 120, 0.4); /* 특수 강조 (핑크빛 광택) */
            --cell-size: 38px;          /* 모바일 터치 최적화 크기 */
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            /* 깊이감 있는 방사형 다크 메탈 배경 */
            background: radial-gradient(circle at center, #2a2a2a 0%, #000000 100%);
            color: var(--text-bright);
            font-family: 'Noto Serif KR', serif;
            margin: 0; padding: 0;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
        }

        header {
            width: 100%;
            padding: 30px 20px;
            text-align: center;
            /* 헤더 하단에 금속 바 느낌 */
            border-bottom: 3px solid #333;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            background: linear-gradient(to bottom, #222, #111);
        }

        h1 {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            letter-spacing: 8px;
            margin: 0;
            /* 금속성 텍스트 질감 표현 */
            background: linear-gradient(to bottom, var(--chrome-bright), var(--silver-mid));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0px 2px 2px rgba(0,0,0,0.8));
        }

        /* 그리드 뷰포트 */
        .grid-viewport {
            width: 100%;
            overflow-x: auto;
            padding: 40px 15px;
            display: flex;
            justify-content: flex-start; /* 모바일 왼쪽 정렬 */
            /* 뷰포트 안쪽에 깊이감 있는 그림자 */
            box-shadow: inset 0 0 30px rgba(0,0,0,0.8);
            background: rgba(0,0,0,0.3);
            -webkit-overflow-scrolling: touch;
        }
        .grid-viewport::-webkit-scrollbar { height: 5px; }
        .grid-viewport::-webkit-scrollbar-thumb { background: var(--silver-mid); border-radius: 3px; }

        /* 그리드 프레임 (묵직한 금속 테두리) */
        .grid-frame {
            display: grid;
            grid-template-columns: repeat(25, var(--cell-size));
            grid-template-rows: repeat(20, var(--cell-size));
            gap: 2px; /* 셀 간격 */
            padding: 8px;
            /* 복합적인 그림자로 두꺼운 금속 베젤 표현 */
            background: var(--silver-shadow);
            border: 3px solid #444;
            box-shadow: 
                inset 0 0 15px rgba(0,0,0,0.9), /* 내부 깊이 */
                0 10px 25px rgba(0,0,0,0.7),   /* 외부 그림자 */
                0 0 0 1px #555;                /* 날카로운 엣지 */
            flex-shrink: 0;
            border-radius: 4px;
        }

        /* 셀 기본 디자인 (비활성 상태 - 어둡고 들어간 느낌) */
        .cell {
            width: var(--cell-size); height: var(--cell-size);
            background-color: var(--cell-inactive);
            display: flex; align-items: center; justify-content: center;
            position: relative;
            box-shadow: inset 1px 1px 3px rgba(0,0,0,0.8); /* 안으로 패인 느낌 */
            border-radius: 2px;
        }

        /* 활성 셀 디자인 (입력 가능 - 밝게 돌출된 금속 버튼) */
        .cell.active {
            background: var(--cell-active-bg);
            cursor: pointer;
            /* 돌출된 입체감 */
            box-shadow: 
                inset 1px 1px 1px rgba(255,255,255,0.2), /* 상단 하이라이트 */
                inset -1px -1px 2px rgba(0,0,0,0.5),     /* 하단 그림자 */
                1px 1px 2px rgba(0,0,0,0.3);             /* 외부 그림자 */
            transition: all 0.2s ease;
        }
        .cell.active:active { /* 터치 시 눌리는 느낌 */
            box-shadow: inset 2px 2px 4px rgba(0,0,0,0.6);
            transform: translateY(1px);
        }

        /* 정답 공개 셀 (가장 밝게 빛남) */
        .cell.revealed {
            background: var(--cell-revealed-bg) !important;
            box-shadow: 0 0 10px rgba(255,255,255,0.2); /* 밝은 빛 번짐 */
        }

        /* 하이라이트 셀 (핑크빛 광택) */
        .cell.special-highlight {
            box-shadow: 
                inset 0 0 0 2px var(--highlight-pink),
                0 0 10px var(--highlight-pink) !important;
        }

        /* 텍스트 디자인 */
        .index {
            position: absolute; top: 2px; left: 3px;
            font-size: 0.6rem; color: var(--text-muted); font-weight: normal;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.5);
        }

        .letter {
            font-family: 'Space Mono', monospace;
            font-size: 1.2rem; font-weight: bold;
            display: none;
            /* 글자에 금속성 광택 */
            background: linear-gradient(to bottom, #333, #000);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .cell.revealed .letter { display: block; }

        /* 컨트롤 및 단서 영역 */
        .control-panel { margin: 30px 0 20px; width: 100%; text-align: center; }
        
        .hotel-btn {
            background: linear-gradient(to bottom, #4a4a4a, #2a2a2a);
            color: var(--chrome-bright);
            border: 1px solid #666;
            padding: 15px 30px;
            font-family: 'Cinzel', serif; font-size: 0.85rem;
            cursor: pointer; letter-spacing: 3px;
            width: 85%; max-width: 350px;
            box-shadow: 0 5px 10px rgba(0,0,0,0.5);
            border-radius: 4px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
        }

        .clues-wrapper {
            width: 95%; max-width: 600px;
            margin: 0 0 60px 0;
            background: linear-gradient(145deg, #1a1a1a, #222);
            border: 2px solid #333;
            padding: 30px;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.5);
            border-radius: 4px;
        }

        .clue-group h2 { 
            font-family: 'Cinzel', serif; 
            border-bottom: 2px solid var(--silver-mid);
            font-size: 1.3rem; margin-top: 0;
            color: var(--silver-highlight);
            padding-bottom: 8px; letter-spacing: 2px;
        }
        .clue-item { 
            margin: 15px 0; font-size: 0.95rem; 
            color: var(--text-bright); line-height: 1.6; 
            word-break: keep-all;
        }

        @media (min-width: 1024px) {
            .grid-viewport { justify-content: center; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Labyrinth Hotel</h1>
    </header>

    <div class="grid-viewport">
        <div class="grid-frame" id="grid"></div>
    </div>

    <div class="control-panel">
        <button onclick="resetGrid()" class="hotel-btn">RESEAL THE PUZZLE</button>
    </div>

    <div class="clues-wrapper">
        <div class="clue-group">
            <h2>Across</h2>
            <div class="clue-item">2. </div>
            <div class="clue-item">3.</div>
                        <div class="clue-item">4. </div>
            <div class="clue-item">5. </div>
            
                       <div class="clue-item">6. </div>
            <div class="clue-item">7. </div>
            </div>
        <div class="clue-group">
            <h2>Down</h2>
            <div class="clue-item">2. </div>
            <div class="clue-item">3. </div>
                        <div class="clue-item">4. </div>
            <div class="clue-item">5. </div>
                        <div class="clue-item">6. </div>
            <div class="clue-item">7. </div>
             </div>
    </div>

    <script>
        // --- [기존 스크립트 로직 유지] ---
        // 데이터 구조는 동일합니다.
        const puzzleWords = [
            { r: 2, c: 0, dir: 'A', id: '2', len: 15 },
            { r: 3, c: 5, dir: 'A', id: '3', len: 9 },
            { r: 5, c: 9, dir: 'A', id: '7', len: 12 },
            { r: 6, c: 9, dir: 'A', id: '6', len: 13 },
            { r: 9, c: 7, dir: 'A', id: '4', len: 12 },
            { r: 10, c: 9, dir: 'A', id: '5', len: 13 },
            { r: 0, c: 0, dir: 'D', id: '4', len: 12 },
            { r: 1, c: 2, dir: 'D', id: '7', len: 13 },
            { r: 1, c: 5, dir: 'D', id: '6', len: 12 },
            { r: 0, c: 10, dir: 'D', id: '5', len: 12 },
            { r: 10, c: 12, dir: 'D', id: '2', len: 10 },
            { r: 10, c: 20, dir: 'D', id: '3', len: 10 }
        ];

        const highlightCoords = ["0-0", "7-2", "10-2", "7-5", "5-9", "3-10", "10-13", "6-17", "10-20"];
        const gridElement = document.getElementById('grid');
        const cellMap = {};

        puzzleWords.forEach(wordData => {
            for (let i = 0; i < wordData.len; i++) {
                const r = wordData.dir === 'A' ? wordData.r : wordData.r + i;
                const c = wordData.dir === 'A' ? wordData.c + i : wordData.c;
                const key = `${r}-${c}`;
                if (!cellMap[key]) cellMap[key] = { indices: [], words: [] };
                if (i === 0) cellMap[key].indices.push(wordData.id);
                cellMap[key].words.push(wordData);
            }
        });

        function drawGrid() {
            gridElement.innerHTML = '';
            for (let r = 0; r < 20; r++) {
                for (let c = 0; c < 25; c++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    const key = `${r}-${c}`;
                    const data = cellMap[key];

                    if (highlightCoords.includes(key)) cell.classList.add('special-highlight');

                    if (data) {
                        cell.classList.add('active');
                        cell.id = `cell-${r}-${c}`;
                        if (data.indices.length > 0) {
                            const idx = document.createElement('span');
                            idx.className = 'index';
                            idx.textContent = data.indices[0];
                            cell.appendChild(idx);
                        }
                        const letter = document.createElement('span');
                        letter.className = 'letter';
                        cell.appendChild(letter);

                        cell.onclick = () => {
                            const currentText = letter.textContent;
                            const input = prompt(`단어를 입력하세요 (길이: ${data.words[0].len}):`, currentText);
                            if (input === null) return;
                            const upperInput = input.trim().toUpperCase();
                            if (upperInput === "") { clearWord(data.words[0]); return; }
                            const targetWord = data.words.find(w => w.len === upperInput.length);
                            if (targetWord) fillWord(targetWord, upperInput);
                            else alert(`길이가 맞지 않습니다. (필요 길이: ${data.words[0].len})`);
                        };
                    }
                    gridElement.appendChild(cell);
                }
            }
        }

        function fillWord(w, text) {
            for (let i = 0; i < w.len; i++) {
                const r = w.dir === 'A' ? w.r : w.r + i;
                const c = w.dir === 'A' ? w.c + i : w.c;
                const target = document.getElementById(`cell-${r}-${c}`);
                if (target) {
                    target.classList.add('revealed');
                    target.querySelector('.letter').textContent = text[i];
                }
            }
        }

        function clearWord(w) {
            for (let i = 0; i < w.len; i++) {
                const r = w.dir === 'A' ? w.r : w.r + i;
                const c = w.dir === 'A' ? w.c + i : w.c;
                const target = document.getElementById(`cell-${r}-${c}`);
                if (target) {
                    target.classList.remove('revealed');
                    target.querySelector('.letter').textContent = '';
                }
            }
        }

        function resetGrid() {
            if (confirm("모든 입력을 초기화하겠습니까?")) {
                document.querySelectorAll('.cell.revealed').forEach(cell => {
                    cell.classList.remove('revealed');
                    cell.querySelector('.letter').textContent = '';
                });
            }
        }

        drawGrid();
    </script>
</body>
</html>
